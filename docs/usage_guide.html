<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Description &mdash; EDA Toolkit 0.0.1b0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to the EDA Toolkit Python Library Documentation!" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            EDA Toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Welcome to the EDA Toolkit Python Library Documentation!</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="#data-preparation-and-management">Data Preparation and Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#path-directories">Path directories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ensure_directory"><code class="docutils literal notranslate"><span class="pre">ensure_directory()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-unique-identifiers">Adding Unique Identifiers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add_ids"><code class="docutils literal notranslate"><span class="pre">add_ids()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#trailing-period-removal">Trailing Period Removal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#strip_trailing_period"><code class="docutils literal notranslate"><span class="pre">strip_trailing_period()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#standardized-dates">Standardized Dates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parse_date_with_rule"><code class="docutils literal notranslate"><span class="pre">parse_date_with_rule()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#binning-numerical-columns">Binning Numerical Columns</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EDA Toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Description</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="no-click"><a class="reference internal image-reference" href="_images/eda_toolkit_logo.svg"><img alt="EDA Toolkit Logo" class="align-left" src="_images/eda_toolkit_logo.svg" width="250px" /></a>
</div><div style="height: 106px;"></div><section id="description">
<h1>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h1>
<p>This guide provides detailed instructions and examples for using the functions
provided in the <code class="docutils literal notranslate"><span class="pre">eda_toolkit</span></code> library and how to use them effectively in your projects.</p>
<p>For most of the ensuing examples, we will leverage the Census Income Data (1994) from
the UCI Machine Learning Repository <a class="footnote-reference brackets" href="#id4" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. This dataset provides a rich source of
information for demonstrating the functionalities of the <code class="docutils literal notranslate"><span class="pre">eda_toolkit</span></code>.</p>
</section>
<section id="data-preparation-and-management">
<h1>Data Preparation and Management<a class="headerlink" href="#data-preparation-and-management" title="Permalink to this heading"></a></h1>
<section id="path-directories">
<h2>Path directories<a class="headerlink" href="#path-directories" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="ensure_directory">
<span class="sig-name descname"><span class="pre">ensure_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ensure_directory" title="Permalink to this definition"></a></dt>
<dd><p>Ensure that the directory exists. If not, create it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The path to the directory that needs to be ensured.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">ensure_directory</span></code> function is a utility designed to facilitate the
management of directory paths within your project. When working with data
science projects, it is common to save and load data, images, and other
artifacts from specific directories. This function helps in making sure that
these directories exist before any read/write operations are performed. If
the specified directory does not exist, the function creates it. If it
already exists, it does nothing, thus preventing any errors related to
missing directories.</p>
<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">ensure_directory</span></code> function
to verify and create directories as needed. This example sets up paths for data and
image directories, ensuring they exist before performing any operations that depend on them.</p>
<p>First, we define the base path as the parent directory of the current directory.
The <code class="docutils literal notranslate"><span class="pre">os.pardir</span></code> constant, equivalent to <code class="docutils literal notranslate"><span class="pre">..</span></code>, is used to navigate up one
directory level. Then, we define paths for the data directory and data output
directory, both located one level up from the current directory.</p>
<p>Next, we set paths for the PNG and SVG image directories, located within an
<code class="docutils literal notranslate"><span class="pre">images</span></code> folder in the parent directory. Using the <code class="docutils literal notranslate"><span class="pre">ensure_directory</span></code>
function, we then verify that these directories exist. If any of the specified
directories do not exist, the function creates them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import function from library</span>
<span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">ensure_directory</span>
<span class="kn">import</span> <span class="nn">os</span> <span class="c1"># import operating system for dir</span>


<span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">)</span>

<span class="c1"># Go up one level from &#39;notebooks&#39; to parent directory,</span>
<span class="c1"># then into the &#39;data&#39; folder</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">data_output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="s2">&quot;data_output&quot;</span><span class="p">)</span>

<span class="c1"># create image paths</span>
<span class="n">image_path_png</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;png_images&quot;</span><span class="p">)</span>
<span class="n">image_path_svg</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;svg_images&quot;</span><span class="p">)</span>

<span class="c1"># Use the function to ensure&#39;data&#39; directory exists</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">data_path</span><span class="p">)</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">data_output</span><span class="p">)</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">image_path_png</span><span class="p">)</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">image_path_svg</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span>
<span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">data_output</span>
<span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">images</span><span class="o">/</span><span class="n">png_images</span>
<span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">images</span><span class="o">/</span><span class="n">svg_images</span>
</pre></div>
</div>
</section>
<section id="adding-unique-identifiers">
<h2>Adding Unique Identifiers<a class="headerlink" href="#adding-unique-identifiers" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="add_ids">
<span class="sig-name descname"><span class="pre">add_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_as_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#add_ids" title="Permalink to this definition"></a></dt>
<dd><p>Add a column of unique IDs with a specified number of digits to the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The dataframe to add IDs to.</p></li>
<li><p><strong>id_colname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The name of the new column for the IDs.</p></li>
<li><p><strong>num_digits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of digits for the unique IDs.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – The seed for the random number generator. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>set_as_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to set the new ID column as the index. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated dataframe with the new ID column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function is used to append a column of unique identifiers with a
specified number of digits to a given dataframe. This is particularly useful for
creating unique patient or record IDs in datasets. The function allows you to
specify a custom column name for the IDs, the number of digits for each ID, and
optionally set a seed for the random number generator to ensure reproducibility.
Additionally, you can choose whether to set the new ID column as the index of the dataframe.</p>
<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function to add a
column of unique IDs to a dataframe. We start by importing the necessary libraries
and creating a sample dataframe. We then use the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function to generate
and append a column of unique IDs with a specified number of digits to the dataframe.</p>
<p>First, we import the pandas library and the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function from the <code class="docutils literal notranslate"><span class="pre">eda_toolkit</span></code>.
Then, we create a sample dataframe with some data. We call the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function,
specifying the dataframe, the column name for the IDs, the number of digits for
each ID, a seed for reproducibility, and whether to set the new ID column as the
index. The function generates unique IDs for each row and adds them as the first
column in the dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">add_ids</span>

<span class="c1"># Add a column of unique IDs with 9 digits and call it &quot;census_id&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">add_ids</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">id_colname</span><span class="o">=</span><span class="s2">&quot;census_id&quot;</span><span class="p">,</span>
    <span class="n">num_digits</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="mi">111</span><span class="p">,</span>
    <span class="n">set_as_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p><cite>First 5 Rows of Census Income Data (Adapted from Kohavi, 1996, UCI Machine Learning Repository)</cite> <a class="footnote-reference brackets" href="#id4" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
overflow:hidden;padding:0px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
font-weight:normal;overflow:hidden;padding:0px 5px;word-break:normal;}
.tg .tg-zv4m{border-color:#ffffff;text-align:left;vertical-align:top}
.tg .tg-8jgo{border-color:#ffffff;text-align:center;vertical-align:top}
.tg .tg-aw21{border-color:#ffffff;font-weight:bold;text-align:center;vertical-align:top}
</style>
<table class="tg"><thead>
<tr>
    <th class="tg-zv4m"></th>
    <th class="tg-aw21">age</th>
    <th class="tg-aw21">workclass</th>
    <th class="tg-aw21">fnlwgt</th>
    <th class="tg-aw21">education</th>
    <th class="tg-aw21">education-num</th>
    <th class="tg-aw21">marital-status</th>
    <th class="tg-aw21">occupation</th>
    <th class="tg-aw21">relationship</th>
</tr></thead>
<tbody>
<tr>
    <td class="tg-aw21">census_id</td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
    <td class="tg-8jgo"></td>
</tr>
<tr>
    <td class="tg-zv4m">82943611</td>
    <td class="tg-8jgo">39</td>
    <td class="tg-8jgo">State-gov</td>
    <td class="tg-8jgo">77516</td>
    <td class="tg-8jgo">Bachelors</td>
    <td class="tg-8jgo">13</td>
    <td class="tg-8jgo">Never-married</td>
    <td class="tg-8jgo">Adm-clerical</td>
    <td class="tg-8jgo">Not-in-family</td>
</tr>
<tr>
    <td class="tg-zv4m">42643227</td>
    <td class="tg-8jgo">50</td>
    <td class="tg-8jgo">Self-emp-not-inc</td>
    <td class="tg-8jgo">83311</td>
    <td class="tg-8jgo">Bachelors</td>
    <td class="tg-8jgo">13</td>
    <td class="tg-8jgo">Married-civ-spouse</td>
    <td class="tg-8jgo">Exec-managerial</td>
    <td class="tg-8jgo">Husband</td>
</tr>
<tr>
    <td class="tg-zv4m">93837254</td>
    <td class="tg-8jgo">38</td>
    <td class="tg-8jgo">Private</td>
    <td class="tg-8jgo">215646</td>
    <td class="tg-8jgo">HS-grad</td>
    <td class="tg-8jgo">9</td>
    <td class="tg-8jgo">Divorced</td>
    <td class="tg-8jgo">Handlers-cleaners</td>
    <td class="tg-8jgo">Not-in-family</td>
</tr>
<tr>
    <td class="tg-zv4m">87104229</td>
    <td class="tg-8jgo">53</td>
    <td class="tg-8jgo">Private</td>
    <td class="tg-8jgo">234721</td>
    <td class="tg-8jgo">11th</td>
    <td class="tg-8jgo">7</td>
    <td class="tg-8jgo">Married-civ-spouse</td>
    <td class="tg-8jgo">Handlers-cleaners</td>
    <td class="tg-8jgo">Husband</td>
</tr>
<tr>
    <td class="tg-zv4m">90069867</td>
    <td class="tg-8jgo">28</td>
    <td class="tg-8jgo">Private</td>
    <td class="tg-8jgo">338409</td>
    <td class="tg-8jgo">Bachelors</td>
    <td class="tg-8jgo">13</td>
    <td class="tg-8jgo">Married-civ-spouse</td>
    <td class="tg-8jgo">Prof-specialty</td>
    <td class="tg-8jgo">Wife</td>
</tr>
</tbody></table><p></p>
</section>
<section id="trailing-period-removal">
<h2>Trailing Period Removal<a class="headerlink" href="#trailing-period-removal" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="strip_trailing_period">
<span class="sig-name descname"><span class="pre">strip_trailing_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#strip_trailing_period" title="Permalink to this definition"></a></dt>
<dd><p>Strip the trailing period from floats in a specified column of a DataFrame, if present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The DataFrame containing the column to be processed.</p></li>
<li><p><strong>column_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The name of the column containing floats with potential trailing periods.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame with the trailing periods removed from the specified column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">strip_trailing_period</span></code> function is designed to remove trailing periods
from float values in a specified column of a DataFrame. This can be particularly
useful when dealing with data that has been inconsistently formatted, ensuring
that all float values are correctly represented.</p>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">strip_trailing_period</span></code> function to clean a column in a DataFrame. We start by importing the necessary libraries and creating a sample DataFrame. We then use the <code class="docutils literal notranslate"><span class="pre">strip_trailing_period</span></code> function to remove any trailing periods from the specified column.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">strip_trailing_period</span>

<span class="c1"># Create a sample dataframe with trailing periods in some values</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Remove trailing periods from the &#39;values&#39; column</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">strip_trailing_period</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;values&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p><cite>First 6 Rows of Data Before and After Removing Trailing Periods (Adapted from Example)</cite></p>
<table>
    <tr>
        <td style="padding-right: 10px;">

            <strong>Before:</strong>

            <table border="1" style="width: 150px; text-align: center;">
                <tr>
                    <th>Index</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>0</td>
                    <td>1.0</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2.0</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>3.0</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>4.0</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>5.0</td>
                </tr>
                <tr style="background-color: #FFCCCC;">
                    <td>5</td>
                    <td>6.</td>
                </tr>
            </table>

        </td>
        <td style="padding-left: 10px;">

            <strong>After:</strong>

            <table border="1" style="width: 150px; text-align: center;">
                <tr>
                    <th>Index</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>0</td>
                    <td>1.0</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2.0</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>3.0</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>4.0</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>5.0</td>
                </tr>
                <tr style="background-color: #FFCCCC;">
                    <td>5</td>
                    <td>6.0</td>
                </tr>
            </table>

        </td>
    </tr>
</table><p></p>
<p><cite>Note:</cite> The last row shows 6 as an <cite>int</cite> with a trailing period with its conversion to <cite>float</cite>.</p>
<p></p>
</section>
<section id="standardized-dates">
<h2>Standardized Dates<a class="headerlink" href="#standardized-dates" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="parse_date_with_rule">
<span class="sig-name descname"><span class="pre">parse_date_with_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse_date_with_rule" title="Permalink to this definition"></a></dt>
<dd><p>Parse and standardize date strings based on the provided rule.</p>
<p>This function takes a date string and standardizes it to the <code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">8601</span></code> format
(<code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code>). It assumes dates are provided in either day/month/year or
month/day/year format. The function first checks if the first part of the
date string (day or month) is greater than 12, which unambiguously indicates
a day/month/year format. If the first part is 12 or less, the function
attempts to parse the date as month/day/year, falling back to day/month/year
if the former raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> due to an impossible date (e.g., month
being greater than 12).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – A date string to be standardized.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A standardized date string in the format YYYY-MM-DD.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">date_str</span></code> is in an unrecognized format or if the function
cannot parse the date.</p>
</dd>
</dl>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">parse_date_with_rule</span></code>
function to standardize date strings. We start by importing the necessary library
and creating a sample list of date strings. We then use the <code class="docutils literal notranslate"><span class="pre">parse_date_with_rule</span></code>
function to parse and standardize each date string to the <code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">8601</span></code> format.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">parse_date_with_rule</span>

<span class="c1"># Sample date strings</span>
<span class="n">date_strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;15/04/2021&quot;</span><span class="p">,</span> <span class="s2">&quot;04/15/2021&quot;</span><span class="p">,</span> <span class="s2">&quot;01/12/2020&quot;</span><span class="p">,</span> <span class="s2">&quot;12/01/2020&quot;</span><span class="p">]</span>

<span class="c1"># Standardize the date strings</span>
<span class="n">standardized_dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">parse_date_with_rule</span><span class="p">(</span><span class="n">date</span><span class="p">)</span> <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">date_strings</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">standardized_dates</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;2021-04-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2021-04-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-12-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-01-12&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In the next example, we demonstrate how to apply the <code class="docutils literal notranslate"><span class="pre">parse_date_with_rule</span></code>
function to a DataFrame column containing date strings using the <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> method.
This is particularly useful when you need to standardize date formats across an
entire column in a DataFrame.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creating the DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;date_column&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;31/12/2021&quot;</span><span class="p">,</span>
        <span class="s2">&quot;01/01/2022&quot;</span><span class="p">,</span>
        <span class="s2">&quot;12/31/2021&quot;</span><span class="p">,</span>
        <span class="s2">&quot;13/02/2022&quot;</span><span class="p">,</span>
        <span class="s2">&quot;07/04/2022&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Charlie&quot;</span><span class="p">,</span> <span class="s2">&quot;David&quot;</span><span class="p">,</span> <span class="s2">&quot;Eve&quot;</span><span class="p">],</span>
    <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">200.75</span><span class="p">,</span> <span class="mf">250.25</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Apply the function to the DataFrame column</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;standardized_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;date_column&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">parse_date_with_rule</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>   <span class="n">date_column</span>     <span class="n">name</span>  <span class="n">amount</span> <span class="n">standardized_date</span>
<span class="mi">0</span>   <span class="mi">31</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="mi">2021</span>    <span class="n">Alice</span>  <span class="mf">100.00</span>        <span class="mi">2021</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>
<span class="mi">1</span>   <span class="mi">01</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2022</span>      <span class="n">Bob</span>  <span class="mf">150.50</span>        <span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>
<span class="mi">2</span>   <span class="mi">12</span><span class="o">/</span><span class="mi">31</span><span class="o">/</span><span class="mi">2021</span>  <span class="n">Charlie</span>  <span class="mf">200.75</span>        <span class="mi">2021</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>
<span class="mi">3</span>   <span class="mi">13</span><span class="o">/</span><span class="mi">02</span><span class="o">/</span><span class="mi">2022</span>    <span class="n">David</span>  <span class="mf">250.25</span>        <span class="mi">2022</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">13</span>
<span class="mi">4</span>   <span class="mi">07</span><span class="o">/</span><span class="mi">04</span><span class="o">/</span><span class="mi">2022</span>      <span class="n">Eve</span>  <span class="mf">300.00</span>        <span class="mi">2022</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">07</span>
</pre></div>
</div>
</section>
<section id="binning-numerical-columns">
<h2>Binning Numerical Columns<a class="headerlink" href="#binning-numerical-columns" title="Permalink to this heading"></a></h2>
<p>If your DataFrame (e.g., the census data <a class="footnote-reference brackets" href="#id4" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>)
does not have age or any other numerical column of interest binned, you can
apply the following binning logic to categorize the data. Below, we use the age
column from the UCI Machine Learning Repository as an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create age bins so that the ages can be categorized</span>
<span class="n">bin_ages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">18</span><span class="p">,</span>
    <span class="mi">30</span><span class="p">,</span>
    <span class="mi">40</span><span class="p">,</span>
    <span class="mi">50</span><span class="p">,</span>
    <span class="mi">60</span><span class="p">,</span>
    <span class="mi">70</span><span class="p">,</span>
    <span class="mi">80</span><span class="p">,</span>
    <span class="mi">90</span><span class="p">,</span>
    <span class="mi">100</span><span class="p">,</span>
    <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Create labels for the bins</span>
<span class="n">label_ages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;&lt; 18&quot;</span><span class="p">,</span>
    <span class="s2">&quot;18-29&quot;</span><span class="p">,</span>
    <span class="s2">&quot;30-39&quot;</span><span class="p">,</span>
    <span class="s2">&quot;40-49&quot;</span><span class="p">,</span>
    <span class="s2">&quot;50-59&quot;</span><span class="p">,</span>
    <span class="s2">&quot;60-69&quot;</span><span class="p">,</span>
    <span class="s2">&quot;70-79&quot;</span><span class="p">,</span>
    <span class="s2">&quot;80-89&quot;</span><span class="p">,</span>
    <span class="s2">&quot;90-99&quot;</span><span class="p">,</span>
    <span class="s2">&quot;100 +&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># Categorize the ages and assign to a new variable</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;age_group&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">],</span>
    <span class="n">bins</span><span class="o">=</span><span class="n">bin_ages</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">label_ages</span><span class="p">,</span>
    <span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><cite>Note:</cite> This code snippet creates age bins and assigns a corresponding age group
label to each age in the DataFrame. The <code class="docutils literal notranslate"><span class="pre">pd.cut</span></code> function from pandas is used to
categorize the ages and assign them to a new column, <code class="docutils literal notranslate"><span class="pre">age_group</span></code>. Adjust the bins
and labels as needed for your specific data.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id4" role="note">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>,<a role="doc-backlink" href="#id3">3</a>)</span>
<p>Kohavi, Ron. (1996). Census Income. UCI Machine Learning Repository. <a class="reference external" href="https://doi.org/10.24432/C5GP7S">https://doi.org/10.24432/C5GP7S</a>.</p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Welcome to the EDA Toolkit Python Library Documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Leonid Shpaner, Oscar Gil.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>